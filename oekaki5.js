(()=>{"use strict";const e=document.getElementById("canvas"),t=e.getContext("2d"),n=document.getElementById("currentColor"),a=document.getElementById("currentBold"),l=document.getElementById("clear"),s=document.getElementById("kabenuri"),d=document.getElementById("lineCap"),o=document.getElementsByName("lineCapName"),r=[document.getElementById("sliderR"),document.getElementById("sliderG"),document.getElementById("sliderB"),document.getElementById("sliderA"),document.getElementById("sliderBold")],u=[document.getElementById("valueR"),document.getElementById("valueG"),document.getElementById("valueB"),document.getElementById("valueA"),document.getElementById("valueBold")],i=()=>{t.strokeStyle=`rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)})`},m=()=>{t.lineWidth=parseInt(r[4].value)},g=()=>{o[0].checked&&(t.lineCap="round"),o[1].checked&&(t.lineCap="butt")},c=()=>{n.style.color=`rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)})`},v=()=>{r[0].style.backgroundImage=`linear-gradient(90deg, rgba(0, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)}), rgba(255, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)}))`,r[1].style.backgroundImage=`linear-gradient(90deg, rgba(${parseInt(r[0].value)}, 0, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)}), rgba(${parseInt(r[0].value)}, 255, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)}))`,r[2].style.backgroundImage=`linear-gradient(90deg, rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, 0, ${parseFloat(r[3].value)}), rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, 255, ${parseFloat(r[3].value)}))`,r[3].style.backgroundImage=`linear-gradient(90deg, rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, 0), rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, 255))`},I=()=>{a.style.transform=`scale(${.05*parseInt(r[4].value)}, ${.05*parseInt(r[4].value)})`},p=document.getElementById("canvas");p.getContext("2d"),document.getElementById("currentColor"),document.getElementById("currentBold"),document.getElementById("clear"),document.getElementById("kabenuri"),document.getElementById("lineCap"),document.getElementsByName("lineCapName"),document.getElementById("sliderR"),document.getElementById("sliderG"),document.getElementById("sliderB"),document.getElementById("sliderA"),document.getElementById("sliderBold"),document.getElementById("valueR"),document.getElementById("valueG"),document.getElementById("valueB"),document.getElementById("valueA"),document.getElementById("valueBold");const E=new class{constructor(){this.startPointX=0,this.startPointY=0,this.isDrawing=!1,this.mousedown=(e,t)=>{this.startPointX=e,this.startPointY=t,this.isDrawing=!0},this.mousemove=(e,t)=>{this.isDrawing&&(this.drawLine(e,t),this.startPointX=e,this.startPointY=t)},this.mouseup=(e,t)=>{this.isDrawing&&(this.drawLine(e,t),this.isDrawing=!1)},this.drawLine=(e,n)=>{t.beginPath(),t.moveTo(this.startPointX,this.startPointY),t.lineTo(e,n),t.stroke(),t.closePath()}}};window.onload=()=>{i(),m(),g(),c(),v(),I(),p.addEventListener("mousedown",(e=>{E.mousedown(e.offsetX,e.offsetY)}),!1),p.addEventListener("mousemove",(e=>{E.mousemove(e.offsetX,e.offsetY)}),!1),window.addEventListener("mouseup",(e=>{E.mouseup(e.offsetX,e.offsetY)}),!1),p.addEventListener("touchstart",(e=>{1==e.touches.length&&(e.preventDefault(),e.stopPropagation(),E.mousedown(e.touches[0].pageX,e.touches[0].pageY))}),!1),p.addEventListener("touchmove",(e=>{1==e.touches.length&&(e.preventDefault(),e.stopPropagation(),E.mousemove(e.touches[0].pageX,e.touches[0].pageY))}),!1),window.addEventListener("touchend",(e=>{E.mouseup(e.touches[0].pageX,e.touches[0].pageY)}),!1),(()=>{for(let e=0;e<=3;e++)r[e].addEventListener("input",(t=>{i(),c(),v(),u[e].innerText=r[e].value}));r[4].addEventListener("input",(e=>{m(),I(),u[4].innerText=r[4].value})),l.addEventListener("click",(n=>{t.clearRect(0,0,e.width,e.height)})),s.addEventListener("click",(n=>{t.fillStyle=`rgba(${parseInt(r[0].value)}, ${parseInt(r[1].value)}, ${parseInt(r[2].value)}, ${parseFloat(r[3].value)})`,t.fillRect(0,0,e.width,e.height)})),d.addEventListener("input",(e=>{g()}))})()}})();
